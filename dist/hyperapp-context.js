!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("hyperapp")):"function"==typeof define&&define.amd?define(["exports","hyperapp"],n):n(t.context={},t.hyperapp)}(this,function(t,a){"use strict";function s(t,n){return n=n||{},null==t?t:"function"==typeof t?s(t(n,function(t){n=Object.assign({},n,t)}),n):Array.isArray(t)?(t=t.map(function(t){return s(t,n)}),t=(t=Array.prototype.concat.apply([],t)).filter(function(t){return null!=t})):t.attributes?{nodeName:t.nodeName,attributes:Object.assign({},t.attributes),children:s(t.children,n)}:t}function n(r){return function(n,e){return function(t){return r(n,s(e),t)}}}t.withContext=function(u){return function(t,n,r,e){return u(t,n,function(t,n){var e=s(r(t,n));return e&&(e.length?e[0]:e)},e)}},t.processor=n,t.decorator=function(r){return n(function(t,n,e){var i=r(t,e);return n.map(function(o){return o.attributes&&Object.keys(i).forEach(function(t){if("class"===t){var n=o.attributes.class,e=i.class;o.attributes.class=(n?n+" ":"")+(e||"")}else if("on"===t.substr(0,2)){var r=o.attributes[t],u=i[t];o.attributes[t]=r?function(t,n){r(t,n),u(t,n)}:u}else o.attributes[t]=i[t]}),o})})},t.nestable=function(o,i,c,t){return i._$r=function(){return{}},function(e,u){return function(n){return a.h(t||"x-",{key:e.key,id:e.id,class:e.class,oncreate:function(r){r._$p=e,r._$c=u,r._$x=n;var t=a.app(o,i,function(t,n){var e=c(t,n);return"function"==typeof e&&(e=e(r._$p,r._$c)),(e=s(e,r._$x))&&e.length?e[0]:e},r);r._$r=t._$r,r._$u=t.uninit,t.init&&t.init(e),e.oncreate&&e.oncreate(r)},onupdate:function(t){t._$p=e,t._$c=u,t._$x=n,t._$r(),e.onupdate&&e.onupdate(t)},ondestroy:function(t){t._$u&&t._$u(),e.ondestroy&&e.ondestroy(t)}})}}},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=hyperapp-context.js.map